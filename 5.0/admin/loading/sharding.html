<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<!-- Original replaced with the next" https://getbootstrap.com/docs/3.3/css/ -->
<!-- <meta name="viewport" content="width=device-width, initial-scale=1"> -->
<!-- Disable zooming on mobile -->
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<!-- <meta name="description" content="Sharding partitions very large tables into smaller, faster, more easily managed parts called data shards."> -->
<meta name="keywords" content=",  ">
<title>Sharding | ThoughtSpot</title>
<link rel="stylesheet" href="https://docs.thoughtspot.com/5.0/css/syntax.css">

<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
<!--<link rel="stylesheet" type="text/css" href="https://docs.thoughtspot.com/5.0/css/bootstrap.min.css%22%3E--%3E%0A%3Clink%20rel=%22stylesheet%22%20href=%22%7B%7B">
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<link rel="stylesheet" href="https://docs.thoughtspot.com/5.0/css/customstyles.css">
<link rel="stylesheet" href="https://docs.thoughtspot.com/5.0/css/boxshadowproperties.css">
<!-- most color styles are extracted out to here -->
<link rel="stylesheet" href="https://docs.thoughtspot.com/5.0/css/theme-new-brand.css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="https://docs.thoughtspot.com/5.0/js/jquery.navgoco.min.js"></script>


<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<!-- Anchor.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/2.0.0/anchor.min.js"></script>
<script src="https://docs.thoughtspot.com/5.0/js/toc.js"></script>
<script src="https://docs.thoughtspot.com/5.0/js/customscripts.js"></script>

<link rel="shortcut icon" href="https://docs.thoughtspot.com/5.0/images/favicon.ico">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link rel="alternate" type="application/rss+xml" title="thoughtspot.github.io" href="https://docs.thoughtspot.com/feed.xml">


<meta name="robots" content="noindex" />


<!--  Site Search -->
<script>
  /********* Version 11.x JavaScript for Site Search 360 *********/
var ss360Config = {
  /********* General *********/
    siteId: "docs.thoughtspot.com",
    showErrors: false,
    layout: {
        navigation: {
            position: "top"
        },
        mobile: {
            showUrl: true,
            showImages: true
        },
        desktop: {
            showUrl: true,
            showImages: true
        }
    },
    /********* Search Suggestions *********/
    suggestions: {
        show: false,
        maxQuerySuggestions: 3,
        showImages: false,
        num: 6,
        minChars: 3,
        highlight: true
    },
    style: {
        themeColor: "#4E55FD",
        suggestions: {
            text: {
                color: "#5c5c5c"
            },
            background: {
                color: "#ffffff"
            },
            padding: "1px",
            distanceFromTop: "0px",
            border: {
                color: "#4E55FD",
                radius: "0px"
            }
     },
        /********* Search Box *********/
        searchBox: {
            text: {
                color: "#6c6c6c",
                size: "14px"
            },
            background: {
                color: "#ffffff"
            },
            padding: "6px",
            icon: {
                image: "magnifier"
            },
            border: {
                color: "#98a0b0",
                radius: "0px"
            },
            button: {
                text: "Search..."
            }
        },
        loaderType: "circle",
        animationSpeed: 250
    },
    searchBox: {
        placeholder: "Search...",
        selector: "#searchBox"
    },
    results: {
        embedConfig: {
            contentBlock: "searchresults-only",
            url: "https://docs.thoughtspot.com/search.html"
        },
        caption: "Found #COUNT# results for your query \"#QUERY#\"",
        group: true,
        num: 300,
        highlightQueryTerms: true,
        moreResultsButton: "More results",
        noResultsText: "Sorry, we have not found any matches for your query.",
        queryCorrectionText: "Did you mean \"#CORRECTION#\"?",
        moreResultsPagingSize: 50
    },
    contentGroups: {
        otherName: "Search results",
        ignoreOther: false
    }
}
</script>
<script src="https://sitesearch360.com/cdn/sitesearch360-v11.min.js"></script>

    <script>
        $(document).ready(function() {
            // Initialize navgoco with default options
            $("#mysidebar").navgoco({
                caretHtml: '',
                accordion: true,
                openClass: 'active', // open
                save: false, // leave false or nav highlighting doesn't work right
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 50,
                    easing: 'swing'
                }
            });

            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', true);
            });

        });

    </script>
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    <script>
        $(document).ready(function() {
            $("#tg-sb-link").click(function() {
                $("#tg-sb-sidebar").toggle();
                $("#tg-sb-content").toggleClass('col-md-9');
                $("#tg-sb-content").toggleClass('col-md-12');
                $("#tg-sb-icon").toggleClass('fa-toggle-on');
                $("#tg-sb-icon").toggleClass('fa-toggle-off');
            });
        });
    </script>
    

</head>
<body>
<!-- Navigation -->
<nav class="navbar navbar-inverse navbar-static-top">
    <div class="container topnavlinks">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <!-- OLD HOME NAV removed in favor of logo image
                       <a class="fa fa-home fa-lg navbar-brand" href="/5.0/index.html">&nbsp;<span class="projectTitle"> </span></a>
            -->

            <div class="logo">
            <figure><a class="no_icon" target="_self" href="/"><img class="docimage" src="/images/company_logo_white.svg" alt="ThoughtSpot Documentation home" style="width:100%;max-width:158px;padding:10px"/> </a></figure>

            </div>

                    </div>

                <!-- Remove old site nav
                                        <a class="fa fa-home fa-lg navbar-brand" href="https://docs.thoughtspot.com/">&nbsp;<span class="projectTitle"> </span></a>
                    </div>
                End Remove old site nav -->

        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <!-- toggle sidebar button -->
                <!-- <li><a id="tg-sb-link" href="#"><i id="tg-sb-icon" class="fa fa-toggle-on"></i> Nav</a></li> -->
                <!-- entries without drop-downs appear here -->

                
                

                
                <!-- entries with drop-downs appear here -->
                <!-- conditional logic to control which topnav appears for the audience defined in the topnav.yml file.-->
                
                
                <li id="version" class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Version<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        
                          <li><a href="/7.0/index.html">latest</a></li>
                        
                        
                        
                          <li><a href="/6.3/index.html">6.3</a></li>
                        
                        
                        
                          <li><a href="/6.2/index.html">6.2</a></li>
                        
                        
                        
                          <li><a href="/6.1/index.html">6.1</a></li>
                        
                        
                        
                          <li><a href="/6.0/index.html">6.0</a></li>
                        
                        
                        
                          <li><a href="/5.3/index.html">5.3</a></li>
                        
                        
                        
                          <li><a href="/5.2/index.html">5.2</a></li>
                        
                        
                        
                          <li><a href="/5.1/index.html">5.1</a></li>
                        
                        
                        
                          <li><a href="/5.0/index.html">5.0</a></li>
                        
                        
                        
                          <li><a href="/4.5/index.html">4.5</a></li>
                        
                        
                        
                          <li><a href="/4.4/index.html">4.4</a></li>
                        
                        
                    </ul>
                </li>
                
                

                
                <!--comment out this block if you want to hide search-->
                <li>
                    <!--start search-->
                    <!-- <div id="search"> -->
                        <!-- <form style="margin-top: 15px;" action="/5.0/search.html" method="GET">
                          <input class="input" name="q" placeholder="Search...">
                        </form> -->
                        <input id="searchBox" style="margin-top: 8px;" type="text" placeholder="Search..." />
                        <!-- <input type="text" id="search-input" place/holder="search..."> -->
                        <!-- <ul id="results-container"></ul> -->
                    <!-- </div> -->

                    <!--end search-->
                </li>
            </ul>
        </div>
        </div>
        <!-- /.container -->
</nav>

<!-- Page Content -->
<div class="container">
  <div id="main">
    <!-- Content Row -->
    <div class="row">
        
        
            <!-- Sidebar Column -->
            <div class="col-md-3" id="tg-sb-sidebar">
                

<ul id="mysidebar" class="nav">
  <li class="bookTitle">ThoughtSpot Software</li>
  <li class="bookSubtitle">Release: 5.0</li>

    <!-- Add link to same page in the latest version if you're on an older version of docs.
       -->

       

    <!-- KEEP FOR TESTING
         <li class="small-sidebar-link">Current page URL is /admin/loading/sharding.html.</li>
         <li class="small-sidebar-link">Current version is 7.0.</li>
         <li class="small-sidebar-link">absolute_url is .</li>
         <li class="small-sidebar-link">url_chunks[0] is .</li>
                  <li class="small-sidebar-link">url_chunks[1] is admin.</li>
           <li class="small-sidebar-link">url_chunks[2] is loading.</li>
                    <li class="small-sidebar-link">url_chunks[3] is sharding.html.</li>
 -->

       

       

       

       

       

       

       
       <li class="small-sidebar-version-nav"><a href="/7.0/">Switch to version 7.0 (latest)</a></li>
       

         <!-- KEEP FOR TESTING
<li class="small-sidebar-link">newURL is /7.0/admin/loading/sharding.html</li>
  <li class="small-sidebar-link">New URL will be https://docs.thoughtspot.com/5.0/7.0/admin/loading/sharding.html</li>
 -->

    <!-- End add link to latest version
       -->

  
    
      
    
      
       <li >
         <a href="#">Users</a>
       <ul class="section">
            
              
                
                  <li><a href="/5.0/end-user/introduction/introduction.html">Introduction</a></li>
                
              
            
              
              <li class="levelTwo">
                  <a href="#">Getting Started</a>
                  <ul>
                
                  
                      
                          <li><a href="/5.0/end-user/introduction/about-navigating-thoughtspot.html">Finding your way around</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/end-user/accessing.html">ThoughtSpot browser access</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/end-user/introduction/about-user.html">Your user preferences</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/end-user/introduction/about-privileges-end-user.html">Understanding privileges</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/end-user/stickers.html">Use stickers to organize</a></li>
                      
                   
                
                    </ul>
                  </li>
              
            
              
              <li class="levelTwo">
                  <a href="#">Use Search</a>
                  <ul>
                
                  
                      
                          <li><a href="/5.0/end-user/search/about-starting-a-new-search.html">What are searches and answers?</a></li>
                      
                   
                
                  
                   <li class="levelThree">
                       <a href="#">Search basics</a>
                       <ul>
                        
                          
                              
                                  <li><a href="/5.0/end-user/search/start-a-new-search.html">Start a new search</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/end-user/search/about-choosing-sources.html">Choose a data source</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/end-user/search/about-the-search-bar.html">Search bar features</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/end-user/search/recent-searches.html">Search suggestions</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/end-user/search/about-attributes-and-measures.html">Search results and column types</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/end-user/search/data-refresh-time.html">Last data refresh time</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/end-user/search/work-with-answers.html">Work with Answers</a></li>
                              
                            
                        
                      </ul>
                    </li>
                   
                
                  
                      
                          <li><a href="/5.0/end-user/search/about-tables.html">Results that are tables</a></li>
                      
                   
                
                  
                   <li class="levelThree">
                       <a href="#">Use keywords in search</a>
                       <ul>
                        
                          
                              
                                  <li><a href="/5.0/complex-search/about-keyword-searches.html">Overview of keyword searches</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/complex-search/period-searches.html">Time series analysis</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/complex-search/search-using-growth-over-time.html">Search using growth over time</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/admin/features/proximity-search.html">Proximity searches "near" and "farther than"</a></li>
                              
                            
                        
                      </ul>
                    </li>
                   
                
                  
                   <li class="levelThree">
                       <a href="#">Work with filters</a>
                       <ul>
                        
                          
                              
                                  <li><a href="/5.0/complex-search/about-filters.html">Understand filters</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/end-user/search/filter-from-column-headers.html">Add a filter to a table</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/end-user/search/filter-from-chart-axes.html">Add a filter to a chart</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/complex-search/create-bulk-filter.html">Create a bulk filter</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/end-user/search/delete-a-filter.html">Delete a filter</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/complex-search/about-filters-for-null.html">Filter on null, blank, or empty values</a></li>
                              
                            
                        
                      </ul>
                    </li>
                   
                
                  
                   <li class="levelThree">
                       <a href="#">Other search actions</a>
                       <ul>
                        
                          
                        
                          
                              
                                  <li><a href="/5.0/complex-search/change-the-view.html">Change result display options</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/complex-search/show-underlying-data.html">Show underlying data</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/complex-search/drill-down.html">See the search behind a result</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/end-user/search/apply-conditional-formatting.html">Apply conditional formatting to a table</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/complex-search/download-your-search.html">Download your search</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/end-user/search/replay-search.html">Replay search</a></li>
                              
                            
                        
                      </ul>
                    </li>
                   
                
                    </ul>
                  </li>
              
            
              
              <li class="levelTwo">
                  <a href="#">Work with charts</a>
                  <ul>
                
                  
                      
                          <li><a href="/5.0/end-user/search/about-charts.html">Understand charts</a></li>
                      
                   
                
                  
                   <li class="levelThree">
                       <a href="#">Chart types</a>
                       <ul>
                        
                          
                              
                                  <li><a href="/5.0/end-user/search/about-column-charts.html">Column charts</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/end-user/search/about-bar-charts.html">Bar charts</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/end-user/search/about-line-charts.html">Line charts</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/end-user/search/pie-charts.html">Pie charts</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/end-user/search/area-charts.html">Area charts</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/end-user/search/about-scatter-charts.html">Scatter charts</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/end-user/search/about-bubble-charts.html">Bubble charts</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/end-user/search/about-pareto-charts.html">Pareto charts</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/end-user/search/about-waterfall-charts.html">Waterfall charts</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/end-user/search/about-treemap-charts.html">Treemap charts</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/end-user/search/line-column-charts.html">Line column charts</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/end-user/search/about-funnel-charts.html">Funnel charts</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/end-user/search/about-geo-charts.html">Geo charts</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/end-user/search/about-sankey-charts.html">Sankey charts</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/complex-search/about-pivoting-a-table.html">Pivot table</a></li>
                              
                            
                        
                      </ul>
                    </li>
                   
                
                  
                   <li class="levelThree">
                       <a href="#">Changing a chart</a>
                       <ul>
                        
                          
                        
                          
                              
                                  <li><a href="/5.0/end-user/search/reorder-values-on-the-x-axis.html">Reorder the labels</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/end-user/search/set-the-y-axis-scale.html">Set the y-axis range</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/end-user/search/hide-and-show-values.html">Hide and show values</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/end-user/search/change-chart-colors.html">Change chart colors</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/end-user/search/show-data-labels.html">Additional chart options</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/end-user/search/zoom-into-a-chart.html">Zoom into a chart</a></li>
                              
                            
                        
                      </ul>
                    </li>
                   
                
                    </ul>
                  </li>
              
            
              
              <li class="levelTwo">
                  <a href="#">Work with formulas</a>
                  <ul>
                
                  
                      
                          <li><a href="/5.0/complex-search/add-formula-to-search.html">Understand formulas</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/complex-search/how-to-add-formula.html">Add a formula to a search</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/complex-search/edit-formula-in-answer.html">View or edit a formula in a search</a></li>
                      
                   
                
                  
                   <li class="levelThree">
                       <a href="#">Aggregate formulas</a>
                       <ul>
                        
                          
                              
                                  <li><a href="/5.0/complex-search/aggregation-formulas.html">Overview of aggregate formulas</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/complex-search/about-cumulative-formulas.html">Cumulative functions</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/complex-search/about-moving-formulas.html">Moving functions</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/complex-search/aggregation-flexible.html">Flexible aggregation functions</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/complex-search/about-pinned-measures.html">Grouping functions</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/complex-search/filtered-agg-forms.html">Filtered aggregation functions</a></li>
                              
                            
                        
                      </ul>
                    </li>
                   
                
                  
                      
                          <li><a href="/5.0/complex-search/conversion-formulas.html">Conversion functions</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/advanced-search/formulas/date-formulas.html">Date functions</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/advanced-search/formulas/percent-calculations.html">Percent (simple number) calculations</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/advanced-search/formulas/conditional-sum.html">Formula operators</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/complex-search/about-nested-formulas.html">Nested formulas</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/complex-search/about-formula-support-for-chasm-trap-schemas.html">Formulas for chasm traps</a></li>
                      
                   
                
                    </ul>
                  </li>
              
            
              
              <li class="levelTwo">
                  <a href="#">Use pinboards</a>
                  <ul>
                
                  
                      
                          <li><a href="/5.0/end-user/pinboards/about-pinboards.html">Basic pinboard usage</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/end-user/pinboards/edit-the-layout-of-a-pinboard.html">Edit a pinboard</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/complex-search/pinboard-filters.html">Pinboard filters</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/admin/manage-jobs/schedule-a-pinboard-job.html">Schedule a pinboard job</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/end-user/pinboards/about-showing-underlying-data-from-within-a-pinboard.html">Search actions within a pinboard</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/end-user/pinboards/copy-a-pinboard.html">Copy a pinboard</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/end-user/pinboards/copy-link-for-a-pinboard.html">Copy a pinboard or visualization link</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/end-user/pinboards/reset-a-visualization.html">Reset a pinboard visualization</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/end-user/pinboards/start-a-slideshow.html">Start a slideshow</a></li>
                      
                   
                
                    </ul>
                  </li>
              
            
              
              <li class="levelTwo">
                  <a href="#">Use custom R scripts</a>
                  <ul>
                
                  
                      
                          <li><a href="/5.0/end-user/r-scripts/about-r-in-thoughtspot.html">About R in ThoughtSpot</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/end-user/r-scripts/create-r-scripts.html">Create and share R scripts</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/end-user/r-scripts/run-prebuilt-r-scripts.html">Run prebuilt R scripts on answers</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/end-user/r-scripts/save-and-share-r-answers.html">Save and share R visualizations</a></li>
                      
                   
                
                    </ul>
                  </li>
              
            
              
              <li class="levelTwo">
                  <a href="#">SpotIQ</a>
                  <ul>
                
                  
                      
                          <li><a href="/5.0/spotiq/whatisspotiq.html">What is SpotIQ</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/spotiq/overview.html">101: Load and analyze data</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/spotiq/work-with-insights.html">101: Review and save insights</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/spotiq/spotiq-customize.html">101: Do more with SpotIQ</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/spotiq/special-topics.html">Best SpotIQ Practices</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/spotiq/customization.html">Custom SpotIQ analysis</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/spotiq/adv-customize-withr.html">Advanced R Customizations</a></li>
                      
                   
                
                    </ul>
                  </li>
              
            
              
              <li class="levelTwo">
                  <a href="#">Work with data</a>
                  <ul>
                
                  
                      
                          <li><a href="/5.0/end-user/data-view/data-intro-end-user.html">Understand data sources</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/end-user/data-view/generate-flat-file.html">Create and load CSV Files</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/admin/loading/append-data-from-a-web-browser.html">Append data through the UI</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/admin/loading/view-your-data-profile.html">View a data profile</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/end-user/locale.html">Date and currency format settings</a></li>
                      
                   
                
                  
                   <li class="levelThree">
                       <a href="#">Share your work</a>
                       <ul>
                        
                          
                              
                                  <li><a href="/5.0/end-user/data-view/sharing-for-end-users.html">About sharing</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/end-user/pinboards/share-pinboards.html">Share a pinboard</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/end-user/pinboards/share-answers.html">Share answers</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/end-user/data-view/share-user-imported-data.html">Share uploaded data</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/end-user/pinboards/unshare.html">Revoke access (unshare)</a></li>
                              
                            
                        
                      </ul>
                    </li>
                   
                
                    </ul>
                  </li>
              
            
              
              <li class="levelTwo">
                  <a href="#">Use SearchIQ</a>
                  <ul>
                
                  
                      
                          <li><a href="/5.0/end-user/search/about-searchiq.html">About SearchIQ</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/end-user/search/use-searchiq.html">Use SearchIQ for natural searches</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/end-user/search/teach-searchiq.html">Teach SearchIQ your language</a></li>
                      
                   
                
                    </ul>
                  </li>
              
            
              
                
                  <li><a href="/5.0/end-user/help-center/what-you-can-find-in-the-help-center.html">More help and support</a></li>
                
              
            
        </ul>
     </li>
     
    
      
       <li >
         <a href="#">Administration</a>
       <ul class="section">
            
              
                
                  <li><a href="/5.0/admin/intro.html">Introduction to administration</a></li>
                
              
            
              
                
                  <li><a href="/5.0/admin/setup/logins.html">Login credentials for administration</a></li>
                
              
            
              
              <li class="levelTwo">
                  <a href="#">Understand the architecture</a>
                  <ul>
                
                  
                      
                          <li><a href="/5.0/admin/architecture/components.html">Architectural components</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/admin/architecture/data-caching.html">Data caching</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/admin/architecture/authentication.html">Authentication frameworks</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/admin/architecture/security.html">Data and object security</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/admin/architecture/performance.html">Performance considerations</a></li>
                      
                   
                
                    </ul>
                  </li>
              
            
              
              <li class="levelTwo">
                  <a href="#">Installation and setup</a>
                  <ul>
                
                  
                      
                          <li><a href="/5.0/admin/setup/intro.html">About installation and upgrades</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/admin/setup/set-your-thoughtspot-locale.html">Set your locale</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/admin/setup/test-network.html">Test connectivity between nodes</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/admin/setup/set-up-relay-host.html">Set the relay host for SMTP</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/admin/setup/set-custom-calendar.html">Set up a fiscal calendar year</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/admin/setup/SSL-config.html">Configure SSL</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/admin/setup/configure-SAML-with-tscli.html">Configure SAML</a></li>
                      
                   
                
                  
                   <li class="levelThree">
                       <a href="#">Integrate LDAP</a>
                       <ul>
                        
                          
                              
                                  <li><a href="/5.0/admin/setup/about-LDAP.html">About LDAP integration</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/admin/setup/LDAP-config-AD.html">Configure LDAP for Active Directory</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/admin/setup/add-SSL-for-LDAP.html">Add the SSL certificate for LDAP</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/admin/setup/test-ldap.html">Test the LDAP configuration</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/admin/setup/sync-users-and-groups-from-ldap.html">Sync users and groups from LDAP</a></li>
                              
                            
                        
                      </ul>
                    </li>
                   
                
                  
                      
                          <li><a href="/5.0/admin/setup/NAS-mount.html">Configure NAS file system</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/admin/setup/set-up-monitoring.html">Set up monitoring</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/admin/setup/work-with-ts-support.html">Configure support services</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/admin/setup/firewall-ports.html">Network ports</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/admin/setup/about-load-balancer-configuration.html">Configure load balancing and proxies</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/admin/setup/customize-help.html">Customize ThoughtSpot Help</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/admin/setup/customize-style.html">Customize look and feel</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/admin/setup/enable-searchiq.html">Enable SearchIQ</a></li>
                      
                   
                
                    </ul>
                  </li>
              
            
              
              <li class="levelTwo">
                  <a href="#">Load and manage data</a>
                  <ul>
                
                  
                      
                          <li><a href="/5.0/admin/loading/loading-intro.html">Introduction to data management</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/admin/loading/about-case-configuration.html">Configure casing</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/admin/loading/load-from-web-browser.html">Load CSV files with the UI</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/admin/loading/schema-viewer.html">How to view a data schema</a></li>
                      
                   
                
                  
                   <li class="levelThree">
                       <a href="#">Plan the schema</a>
                       <ul>
                        
                          
                              
                                  <li><a href="/5.0/admin/loading/plan-schema.html">About schema planning</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/admin/loading/datatypes.html">Data types</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/admin/loading/constraints.html">Constraints</a></li>
                              
                            
                        
                          
                              
                                  <li class="active"><a href="/5.0/admin/loading/sharding.html">Sharding</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/admin/loading/chasm-trap.html">Chasm traps</a></li>
                              
                            
                        
                      </ul>
                    </li>
                   
                
                  
                   <li class="levelThree">
                       <a href="#">Build the schema</a>
                       <ul>
                        
                          
                              
                                  <li><a href="/5.0/admin/loading/create-schema.html">Schema building overview</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/admin/loading/prep-schema-for-load.html">Connect with TQL and create a schema</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/admin/loading/create-schema-with-script.html">How to write a SQL script</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/admin/loading/create-schema-example.html">Schema creation examples</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/admin/loading/upload-sql-script.html">Upload an SQL script</a></li>
                              
                            
                        
                      </ul>
                    </li>
                   
                
                  
                   <li class="levelThree">
                       <a href="#">Change the schema</a>
                       <ul>
                        
                          
                              
                                  <li><a href="/5.0/admin/loading/change-schema.html">How to change a schema</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/admin/loading/about-data-type-conversion.html">Convert column data type</a></li>
                              
                            
                        
                      </ul>
                    </li>
                   
                
                  
                   <li class="levelThree">
                       <a href="#">Load bulk data</a>
                       <ul>
                        
                          
                              
                                  <li><a href="/5.0/admin/loading/use-data-importer.html">Import CSV files with tsload</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/admin/loading/load-with-script.html">Use a script to load data</a></li>
                              
                            
                        
                      </ul>
                    </li>
                   
                
                  
                   <li class="levelThree">
                       <a href="#">Delete a data source</a>
                       <ul>
                        
                          
                              
                                  <li><a href="/5.0/admin/loading/delete-data-source-UX.html">Delete a data source (table)</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/admin/loading/check-dependencies-tql.html">Delete or change a table in TQL</a></li>
                              
                            
                        
                      </ul>
                    </li>
                   
                
                    </ul>
                  </li>
              
            
              
              <li class="levelTwo">
                  <a href="#">Improve search with modeling</a>
                  <ul>
                
                  
                      
                          <li><a href="/5.0/admin/data-modeling/about-data-modeling-intro.html">About data modeling</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/admin/data-modeling/model-data-in-UI.html">Change a table's data model</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/admin/data-modeling/edit-model-file.html">Edit the system-wide data model</a></li>
                      
                   
                
                  
                   <li class="levelThree">
                       <a href="#">Data model settings</a>
                       <ul>
                        
                          
                              
                                  <li><a href="/5.0/admin/data-modeling/data-modeling-settings.html">Overview of the settings</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/admin/data-modeling/change-column-basics.html">Set column name, description, and type</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/admin/data-modeling/change-aggreg-additive.html">Set additive and aggregate values</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/admin/data-modeling/change-visibility-synonym.html">Hide a column or define a synonym</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/admin/data-modeling/change-index.html">Manage suggestion indexing</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/admin/data-modeling/model-geo-data.html">Add a geographical data setting</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/admin/data-modeling/set-format-pattern-numbers.html">Set number, date, currency formats</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/admin/data-modeling/attributable-dimension.html">Change the Attribution Dimension setting</a></li>
                              
                            
                        
                      </ul>
                    </li>
                   
                
                  
                   <li class="levelThree">
                       <a href="#">Link tables using relationships</a>
                       <ul>
                        
                          
                              
                                  <li><a href="/5.0/admin/data-modeling/about-relationships.html">Link tables using relationships</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/admin/data-modeling/create-new-relationship.html">Create a relationship</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/admin/data-modeling/delete-relationship.html">Delete a relationship</a></li>
                              
                            
                        
                      </ul>
                    </li>
                   
                
                  
                      
                          <li><a href="/5.0/admin/data-modeling/stickers-concept.html">Use stickers</a></li>
                      
                   
                
                    </ul>
                  </li>
              
            
              
              <li class="levelTwo">
                  <a href="#">Simplify search with worksheets</a>
                  <ul>
                
                  
                      
                          <li><a href="/5.0/admin/worksheets/about-worksheets.html">Create and use worksheets</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/admin/worksheets/edit-worksheet.html">Edit a worksheet</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/admin/worksheets/create-formula.html">Create a formula in a worksheet</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/admin/worksheets/create-ws-filter.html">Create worksheet filters</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/admin/worksheets/progressive-joins.html">How the worksheet join rule works</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/admin/worksheets/change-inclusion-rule.html">Change join rule or RLS for a worksheet</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/admin/worksheets/add-joins.html">Create a join relationship</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/admin/worksheets/mod-ws-internal-joins.html">Modify joins between worksheet tables</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/admin/worksheets/delete-worksheet.html">Delete a worksheet or table</a></li>
                      
                   
                
                    </ul>
                  </li>
              
            
              
              <li class="levelTwo">
                  <a href="#">Work with views</a>
                  <ul>
                
                  
                      
                          <li><a href="/5.0/complex-search/about-query-on-query.html">Understand views</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/complex-search/create-aggregated-worksheet.html">Save a search as a view</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/complex-search/do-query-on-query.html">Create a search from a view</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/complex-search/more-example-scenarios.html">View example scenarios</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/admin/loading/materialized-views.html">About materialized views</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/admin/loading/materialize-a-view.html">Materialize a view</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/admin/loading/dematerialize-a-view.html">Dematerialize a view</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/admin/loading/refresh-view.html">Refresh a view</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/admin/loading/schedule-materialization.html">Schedule view refreshes</a></li>
                      
                   
                
                    </ul>
                  </li>
              
            
              
              <li class="levelTwo">
                  <a href="#">Manage users and groups</a>
                  <ul>
                
                  
                      
                          <li><a href="/5.0/admin/users-groups/about-users-groups.html">Understand groups and privileges</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/admin/users-groups/add-group.html">Create, edit, or delete a group</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/admin/users-groups/add-user.html">Add, edit, or delete a user</a></li>
                      
                   
                
                    </ul>
                  </li>
              
            
              
              <li class="levelTwo">
                  <a href="#">Manage jobs</a>
                  <ul>
                
                  
                      
                          <li><a href="/5.0/admin/manage-jobs/about-scheduled-pinboards.html">Job management (scheduled pinboards)</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/admin/manage-jobs/scheduled-pinboards-management.html">Scheduled pinboards management</a></li>
                      
                   
                
                    </ul>
                  </li>
              
            
              
              <li class="levelTwo">
                  <a href="#">Security</a>
                  <ul>
                
                  
                      
                          <li><a href="/5.0/admin/data-security/about-security.html">Overview of security features</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/admin/data-security/audit-logs.html">System Security</a></li>
                      
                   
                
                  
                   <li class="levelThree">
                       <a href="#">Data security</a>
                       <ul>
                        
                          
                              
                                  <li><a href="/5.0/admin/data-security/sharing-security-overview.html">Data security</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/admin/data-security/share-source-tables.html">Share tables and columns</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/admin/data-security/share-worksheets.html">Share worksheets</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/admin/data-security/share-pinboards.html">Share a pinboard</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/admin/data-security/spotiq-admin.html">Security for SpotIQ functions</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/admin/data-security/unshare.html">Revoke access (unshare)</a></li>
                              
                            
                        
                      </ul>
                    </li>
                   
                
                  
                   <li class="levelThree">
                       <a href="#">Row level security (RLS)</a>
                       <ul>
                        
                          
                              
                                  <li><a href="/5.0/admin/data-security/about-row-security.html">About row level security (RLS)</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/admin/data-security/row-level-security.html">How Rule-Based RLS works</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/admin/data-security/set-rls.html">Set Rule-Based RLS</a></li>
                              
                            
                        
                      </ul>
                    </li>
                   
                
                  
                      
                          <li><a href="/5.0/admin/data-security/security-thoughtspot-lifecycle.html">ThoughtSpot Lifecycle</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/admin/data-security/encryption-of-data.html">Encryption of data in transit</a></li>
                      
                   
                
                    </ul>
                  </li>
              
            
              
              <li class="levelTwo">
                  <a href="#">System administration</a>
                  <ul>
                
                  
                      
                          <li><a href="/5.0/admin/system-admin/sysadmin-overview.html">Overview of System administration</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/admin/system-admin/send-logs-to-administrator.html">Send logs when reporting problems</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/admin/system-admin/configure-record-search.html">Set up recording for Replay Search</a></li>
                      
                   
                
                    </ul>
                  </li>
              
            
              
              <li class="levelTwo">
                  <a href="#">Monitoring</a>
                  <ul>
                
                  
                      
                          <li><a href="/5.0/admin/system-monitor/introduction.html">Introduction to monitoring</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/admin/system-monitor/overview.html">Overview board</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/admin/system-monitor/data.html">Data board</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/admin/system-monitor/cluster-manager.html">Cluster Manager board</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/admin/system-monitor/alerts-events.html">Alerts and Events board</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/admin/system-monitor/worksheets.html">System worksheets</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/admin/system-monitor/monitor-pinboards.html">System pinboards</a></li>
                      
                   
                
                    </ul>
                  </li>
              
            
              
              <li class="levelTwo">
                  <a href="#">Backup and restore</a>
                  <ul>
                
                  
                      
                          <li><a href="/5.0/admin/backup-restore/choose-strategy.html">Understand the backup strategies</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/admin/backup-restore/how-to-create-a-schedule.html">Understand backup/snapshot schedules</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/admin/backup-restore/overview-snapshot.html">Work with snapshots</a></li>
                      
                   
                
                  
                   <li class="levelThree">
                       <a href="#">Work with backups</a>
                       <ul>
                        
                          
                              
                                  <li><a href="/5.0/admin/backup-restore/backup-modes.html">Understand backup modes</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/admin/backup-restore/take-backup.html">Create a manual backup</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/admin/backup-restore/configure-backup.html">Configure periodic backups</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/admin/backup-restore/restore.html">About restore operations</a></li>
                              
                            
                        
                      </ul>
                    </li>
                   
                
                    </ul>
                  </li>
              
            
              
              <li class="levelTwo">
                  <a href="#">Troubleshooting</a>
                  <ul>
                
                  
                
                  
                      
                          <li><a href="/5.0/admin/troubleshooting/get-logs.html">Get your configuration and logs</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/admin/troubleshooting/upload-logs-egnyte.html">Upload logs to ThoughtSpot Support</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/admin/troubleshooting/check-connectivity.html">Network connectivity issues</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/admin/troubleshooting/set-timezone.html">Check the timezone</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/admin/troubleshooting/certificate-warning.html">Browser untrusted connection error</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/admin/loading/char-encoding.html">Characters not displaying correctly</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/admin/troubleshooting/clear-browser-cache.html">Clear the browser cache</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/admin/troubleshooting/formula-date-problem.html">Cannot open a saved answer that contains a formula</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/admin/troubleshooting/data-loading-too-slowly.html">Data loading too slowly</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/admin/troubleshooting/search-too-many-blanks.html">Search results contain too many blanks</a></li>
                      
                   
                
                    </ul>
                  </li>
              
            
        </ul>
     </li>
     
    
      
       <li >
         <a href="#">Data Connect</a>
       <ul class="section">
            
              
                
                  <li><a href="/5.0/data-connect/setup/ETL.html">Introduction to Data Connect</a></li>
                
              
            
              
                
                  <li><a href="/5.0/data-connect/setup/before-using-data-connect.html">Prerequisites and Architecture</a></li>
                
              
            
              
                
                  <li><a href="/5.0/data-connect/setup/settingup-etl.html">Set up ThoughtSpot Data Connect</a></li>
                
              
            
              
              <li class="levelTwo">
                  <a href="#">Work with Data Sources</a>
                  <ul>
                
                  
                      
                          <li><a href="/5.0/data-connect/setup/adding-data-source.html">Add a new data source</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/data-connect/setup/about-changing-DDL.html">About changing the schema (DDL)</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/data-connect/setup/about-incremental.html">About incremental data loads</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/data-connect/setup/data-sources-management.html">Data sources management</a></li>
                      
                   
                
                    </ul>
                  </li>
              
            
              
              <li class="levelTwo">
                  <a href="#">Changing the setup</a>
                  <ul>
                
                  
                      
                          <li><a href="/5.0/data-connect/making-changes/about-changing-etl-jobs.html">Overview of best practices</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/data-connect/making-changes/edit-a-connection.html">Edit a connection</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/data-connect/making-changes/delete-a-connection.html">Delete a connection</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/data-connect/making-changes/delete-data-source.html">Delete a data source</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/data-connect/making-changes/stop-scheduled-job.html">Stop a scheduled job from running</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/data-connect/making-changes/change-sharding.html">Change sharding for a data source</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/data-connect/making-changes/change-data-type.html">Change a column data type</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/data-connect/making-changes/add-a-column.html">Add a column to an existing data source</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/data-connect/making-changes/remove-column.html">Remove a column from an existing data source</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/data-connect/making-changes/add-remove-columns-in-a-loaded-table.html">Add/remove columns in a loaded table</a></li>
                      
                   
                
                    </ul>
                  </li>
              
            
              
              <li class="levelTwo">
                  <a href="#">Reference</a>
                  <ul>
                
                  
                      
                          <li><a href="/5.0/data-connect/reference/logins.html">Login for administration</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/data-connect/reference/data-connect-insider-tips.html">Best practices</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/data-connect/reference/data-connect-connection-credentials.html">Connectors reference</a></li>
                      
                   
                
                    </ul>
                  </li>
              
            
        </ul>
     </li>
     
    
      
       <li >
         <a href="#">Embedding</a>
       <ul class="section">
            
              
                
                  <li><a href="/5.0/app-integrate/introduction/introduction.html">Introduction to Embedding</a></li>
                
              
            
              
                
                  <li><a href="/5.0/app-integrate/introduction/login-console.html">Log in to the Linux shell using SSH</a></li>
                
              
            
              
                
                  <li><a href="/5.0/app-integrate/introduction/logins.html">Log in credentials</a></li>
                
              
            
              
                
                  <li><a href="/5.0/app-integrate/JSAPI/about-JS-API.html">Use the JavaScript API</a></li>
                
              
            
              
              <li class="levelTwo">
                  <a href="#">SAML</a>
                  <ul>
                
                  
                      
                          <li><a href="/5.0/app-integrate/SAML/about-SAML-integrations.html">About SAML</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/app-integrate/SAML/configure-SAML-with-tscli.html">Configure SAML</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/app-integrate/SAML/configure-SAML-siteminder.html">Configure CA SiteMinder</a></li>
                      
                   
                
                  
                   <li class="levelThree">
                       <a href="#">Active Directory</a>
                       <ul>
                        
                          
                              
                                  <li><a href="/5.0/app-integrate/SAML/integrate-ADFS.html">Configure Active Directory Federated Services</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/app-integrate/SAML/initialize-IDP.html">Initialize the Identity Provider Metadata</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/app-integrate/SAML/initialize-SP.html">Initialize the Service Provider Metadata</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/app-integrate/SAML/test-ADFS.html">Test the ADFS Integration</a></li>
                              
                            
                        
                      </ul>
                    </li>
                   
                
                    </ul>
                  </li>
              
            
              
              <li class="levelTwo">
                  <a href="#">REST API</a>
                  <ul>
                
                  
                      
                          <li><a href="/5.0/app-integrate/data-api/about-data-api.html">About the REST API</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/app-integrate/data-api/calling-rest-api.html">Calling the REST API</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/app-integrate/data-api/response-pagination.html">REST API pagination</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/app-integrate/data-api/use-data-api-read.html">Use the REST API to get data</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/app-integrate/data-api/direct-search-to-embed.html">Use the Embedded Search API</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/app-integrate/data-api/push-data-to-external-app.html">Use the Data Push API</a></li>
                      
                   
                
                    </ul>
                  </li>
              
            
              
              <li class="levelTwo">
                  <a href="#">Embed ThoughtSpot</a>
                  <ul>
                
                  
                      
                          <li><a href="/5.0/app-integrate/embedding-viz/about-embedding-viz.html">Understand embedding</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/app-integrate/embedding-viz/embed-a-viz.html">Embed pinboard or visualization</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/app-integrate/JSAPI/enable-JS-API.html">Authentication flow with embed</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/app-integrate/embedding-viz/about-full-embed.html">Full application embedding</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/app-integrate/embedding-viz/trusted-authentication.html">Configured trusted authentication</a></li>
                      
                   
                
                    </ul>
                  </li>
              
            
              
              <li class="levelTwo">
                  <a href="#">Runtime Filters</a>
                  <ul>
                
                  
                      
                          <li><a href="/5.0/app-integrate/runtime-filters/about-runtime-filters.html">About Runtime Filters</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/app-integrate/runtime-filters/apply-runtime-filter.html">Apply a Runtime Filter</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/app-integrate/runtime-filters/runtime-filter-operators.html">Runtime Filter Operators</a></li>
                      
                   
                
                    </ul>
                  </li>
              
            
              
              <li class="levelTwo">
                  <a href="#">Style Customization</a>
                  <ul>
                
                  
                      
                          <li><a href="/5.0/app-integrate/custom-branding/perform-style-customization.html">Customize the application style</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/app-integrate/custom-branding/upload-application-logos.html">Upload application logos</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/app-integrate/custom-branding/set-chart-and-table-visualization-fonts.html">Set chart and table visualization fonts</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/app-integrate/custom-branding/choose-background-color.html">Choose a background color</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/app-integrate/custom-branding/select-chart-color-palettes.html">Select chart color palettes</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/app-integrate/custom-branding/change-the-footer-text.html">Change the footer text</a></li>
                      
                   
                
                    </ul>
                  </li>
              
            
              
              <li class="levelTwo">
                  <a href="#">API Reference</a>
                  <ul>
                
                  
                      
                          <li><a href="/5.0/app-integrate/reference/public-api-reference.html">Introduction</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/app-integrate/reference/pinboarddata.html">pinboarddata API</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/app-integrate/reference/metadata-api.html">metadata API</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/app-integrate/reference/session-api.html">session API</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/app-integrate/reference/user-api.html">user API</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/app-integrate/reference/group-api.html">group API</a></li>
                      
                   
                
                    </ul>
                  </li>
              
            
        </ul>
     </li>
     
    
      
       <li >
         <a href="#">Node Setup</a>
       <ul class="section">
            
              
                
                  <li><a href="/5.0/appliance/welcome-intro.html">Overview</a></li>
                
              
            
              
              <li class="levelTwo">
                  <a href="#">Hardware appliance</a>
                  <ul>
                
                  
                      
                          <li><a href="/5.0/appliance/hardware/inthebox.html">Hardware appliance overview</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/appliance/hardware/hardware-and-deployment.html">Supported hardware</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/appliance/hardware/cable-networking.html">Cable networking</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/appliance/hardware/appliance-setup.html">Set up and start the appliance</a></li>
                      
                   
                
                    </ul>
                  </li>
              
            
              
              <li class="levelTwo">
                  <a href="#">AWS node</a>
                  <ul>
                
                  
                      
                          <li><a href="/5.0/appliance/aws/about-aws.html">AWS cluster overview</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/appliance/aws/configuration-options.html">Configuration options</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/appliance/aws/launch-an-instance.html">Set up AWS for ThoughtSpot</a></li>
                      
                   
                
                    </ul>
                  </li>
              
            
              
              <li class="levelTwo">
                  <a href="#">Azure node</a>
                  <ul>
                
                  
                      
                          <li><a href="/5.0/appliance/azure/about-azure.html">Azure cluster overview</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/appliance/azure/configuration-options.html">Configuration options</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/appliance/azure/launch-an-instance.html">Set up Azure for ThoughtSpot</a></li>
                      
                   
                
                    </ul>
                  </li>
              
            
              
              <li class="levelTwo">
                  <a href="#">GCP node</a>
                  <ul>
                
                  
                      
                          <li><a href="/5.0/appliance/gcp/about-gcp.html">GCP cluster overview</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/appliance/gcp/configuration-options.html">Configuration options</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/appliance/gcp/launch-an-instance.html">Set up GCP for ThoughtSpot</a></li>
                      
                   
                
                    </ul>
                  </li>
              
            
              
              <li class="levelTwo">
                  <a href="#">VMware node</a>
                  <ul>
                
                  
                      
                          <li><a href="/5.0/appliance/vmware/vmware-intro.html">Configuration overview</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/appliance/vmware/vmware-setup.html">Set up VMWware for ThoughtSpot</a></li>
                      
                   
                
                    </ul>
                  </li>
              
            
              
                
                  <li><a href="/5.0/appliance/firewall-ports.html">Network ports</a></li>
                
              
            
              
                
                  <li><a href="/5.0/appliance/contact.html">Contact support</a></li>
                
              
            
        </ul>
     </li>
     
    
      
       <li >
         <a href="#">Data Integration</a>
       <ul class="section">
            
              
                
                  <li><a href="/5.0/data-integrate/introduction/introduction-data-integration.html">Introduction to Data Integration</a></li>
                
              
            
              
                
                  <li><a href="/5.0/data-integrate/introduction/logins.html">Login credentials for administration</a></li>
                
              
            
              
              <li class="levelTwo">
                  <a href="#">Use the ODBC client</a>
                  <ul>
                
                  
                      
                          <li><a href="/5.0/data-integrate/clients/about-odbc.html">ODBC driver overview</a></li>
                      
                   
                
                  
                   <li class="levelThree">
                       <a href="#">ODBC on Windows</a>
                       <ul>
                        
                          
                              
                                  <li><a href="/5.0/data-integrate/clients/install-odbc-windows.html">Install the ODBC driver on Windows</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/data-integrate/clients/multiple-sources-windows.html">Configure multiple connections on Windows</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/data-integrate/clients/windows-deploy-ssl.html">Deploy SSL with ODBC on Windows</a></li>
                              
                            
                        
                          
                              
                                  <li><a href="/5.0/data-integrate/clients/set-up-the-odbc-driver-using-ssis.html">Set up the ODBC Driver for SSIS</a></li>
                              
                            
                        
                      </ul>
                    </li>
                   
                
                  
                      
                          <li><a href="/5.0/data-integrate/clients/install-odbc-linux.html">Install the ODBC Driver on Linux</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/data-integrate/clients/install-odbc-solaris.html">Install the ODBC Driver on Solaris</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/data-integrate/clients/odbc-best-practices.html">Best Practices for Using ODBC</a></li>
                      
                   
                
                    </ul>
                  </li>
              
            
              
              <li class="levelTwo">
                  <a href="#">JDBC Driver Client</a>
                  <ul>
                
                  
                      
                          <li><a href="/5.0/data-integrate/clients/about-jdbc-driver.html">JDBC Driver Overview</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/data-integrate/clients/use-jdbc-driver.html">Use the JDBC Driver</a></li>
                      
                   
                
                    </ul>
                  </li>
              
            
              
                
                  <li><a href="/5.0/data-integrate/clients/set-up-the-jdbc-driver-for-pentaho.html">Set up the JDBC Driver for Pentaho</a></li>
                
              
            
              
              <li class="levelTwo">
                  <a href="#">Troubleshooting</a>
                  <ul>
                
                  
                      
                          <li><a href="/5.0/data-integrate/troubleshooting/troubleshooting-intro.html">Troubleshooting Data Integrations</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/data-integrate/troubleshooting/enable-ODBC-log.html">Enable ODBC Logs</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/data-integrate/troubleshooting/JDBC-logging.html">Enable JDBC Logs</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/data-integrate/troubleshooting/schema-not-found.html">Schema not found error with ODBC</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/data-integrate/troubleshooting/how-to-improve-throughput-of-the-load.html">How to improve throughput</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/data-integrate/troubleshooting/windows-odbc-tracing.html">ODBC tracing on Windows</a></li>
                      
                   
                
                    </ul>
                  </li>
              
            
              
              <li class="levelTwo">
                  <a href="#">Reference</a>
                  <ul>
                
                  
                      
                          <li><a href="/5.0/data-integrate/reference/odbc-commands.html">Supported SQL commands</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/data-integrate/reference/simba-settings.html">Connection configuration</a></li>
                      
                   
                
                    </ul>
                  </li>
              
            
        </ul>
     </li>
     
    
      
       <li >
         <a href="#">Disaster Recovery</a>
       <ul class="section">
            
              
                
                  <li><a href="/5.0/disaster-recovery/about-disaster-recovery.html">About disaster recovery</a></li>
                
              
            
              
                
                  <li><a href="/5.0/disaster-recovery/disk-failure.html">Disk failure</a></li>
                
              
            
              
                
                  <li><a href="/5.0/disaster-recovery/node-failure.html">Node failure</a></li>
                
              
            
              
              <li class="levelTwo">
                  <a href="#">Cluster replacement</a>
                  <ul>
                
                  
                      
                          <li><a href="/5.0/disaster-recovery/cluster-replacement.html">Overview of cluster replacement</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/disaster-recovery/nas-mount.html">Mount a NAS file system</a></li>
                      
                   
                
                  
                      
                          <li><a href="/5.0/disaster-recovery/set-up-DR-config.html">Configure disaster recovery</a></li>
                      
                   
                
                    </ul>
                  </li>
              
            
        </ul>
     </li>
     
    
      
       <li >
         <a href="#">Reference</a>
       <ul class="section">
            
              
                
                  <li><a href="/5.0/reference/intro-reference.html">About this reference</a></li>
                
              
            
              
                
                  <li><a href="/5.0/reference/keywords.html">Keyword reference</a></li>
                
              
            
              
                
                  <li><a href="/5.0/reference/sql-cli-commands.html">TQL reference</a></li>
                
              
            
              
                
                  <li><a href="/5.0/reference/data-importer-ref.html">tsload flag reference</a></li>
                
              
            
              
                
                  <li><a href="/5.0/reference/tscli-command-ref.html">tscli command reference</a></li>
                
              
            
              
                
                  <li><a href="/5.0/reference/date-formats-for-loading.html">Date and time formats reference</a></li>
                
              
            
              
                
                  <li><a href="/5.0/reference/rls-rule-builder-reference.html">Row level security rules reference</a></li>
                
              
            
              
                
                  <li><a href="/5.0/reference/formula-reference.html">Formula function reference</a></li>
                
              
            
              
                
                  <li><a href="/5.0/reference/alerts-reference.html">Alert codes reference</a></li>
                
              
            
              
                
                  <li><a href="/5.0/reference/action-codes.html">User action codes reference</a></li>
                
              
            
              
                
                  <li><a href="/5.0/error-codes/error-codes-reference.html">Error codes reference</a></li>
                
              
            
              
                
                  <li><a href="/5.0/faq/faq.html">Frequently asked questions</a></li>
                
              
            
        </ul>
     </li>
     
    
      
       <li >
         <a href="#">About this Release</a>
       <ul class="section">
            
              
                
                  <li><a href="/5.0/release/help-center.html">Help Center</a></li>
                
              
            
              
                
                  <li><a href="/5.0/release/notes.html">Release notes</a></li>
                
              
            
              
                
                  <li><a href="/5.0/release/fixed.html">Fixed issues</a></li>
                
              
            
              
                
                  <li><a href="/5.0/release/downloads.html">Downloads</a></li>
                
              
            
              
                
                  <li><a href="/5.0/reference/glossary.html">Glossary</a></li>
                
              
            
              
                
                  <li><a href="/5.0/reference/tags_index.html">Topic index</a></li>
                
              
            
        </ul>
     </li>
     
    
  </ul>
</li>
  
      <!-- if you aren't using the accordion, uncomment this block:
         <p class="external">
             <a href="#" id="collapseAll">Collapse All</a> | <a href="#" id="expandAll">Expand All</a>
         </p>
         -->
</ul>


<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>

            </div>
            
        

        <!-- Content Column -->
        <div class="col-md-9" id="tg-sb-content">
            <div class="post-header">
   <h1 class="post-title-main">Sharding</h1>
</div>



<div class="post-content">

   
    <div class="summary">Sharding partitions very large tables into smaller, faster, more easily managed parts called data shards.</div>
   

    
    
<!-- this handles the automatic toc. use ## for subheads to auto-generate the
on-page minitoc. if you use html tags, you must supply an ID for the heading
element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {
  // Handler for .ready() called.

$('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: 'h2,h3,h4' });

/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top

  $(window).scrollTop(scroll_target - 10);
  return false
})

});
</script>

<div id="toc"></div>

    


    
    <span class="reading-time" title="Estimated reading time">
  Estimated reading time: 
  
  
    18 minutes
  
</span>

    

  <p>ThoughtSpot tables can be replicated or sharded. Replicated tables exist in
their entirety, as the complete data set, on each node. Sharded tables consist of a
single data set, divided into multiple tables, or <em>shards</em>. The shards have
identical schemas, but different sets of data.</p>

<p>Note that sharding and loading tables into ThoughtSpot only apply to ThoughtSpots in-memory database. If you use <a href="/5.0/data-integrate/embrace/embrace-intro.html">Embrace</a>, and store your data in another data warehouse such as Snowflake or Amazon Redshift, your data modeling is done in that data warehouse, and not in ThoughtSpot.</p>

<h2 id="when-to-shard-your-data">When to shard your data</h2>

<p>By default, ThoughtSpot replicates tables. To shard tables, you must add the <code class="language-plaintext highlighter-rouge">PARTITION BY HASH ( )</code> clause to your <code class="language-plaintext highlighter-rouge">CREATE TABLE</code> statement.</p>

<p>Sharding your tables impacts the total amount of memory used by the table, its performance, and table loading times.</p>

<p>For example, you might shard a large table of sales data. You could divide a
single sales table into shards that each contain only the data for a single year. The system then distributes these shards across several nodes.
Requests for sales data are dispersed both by the year and the location of the
shard in the node cluster. No single table or node is overloaded, improving both query performance and system load.</p>

<p>To optimize ThoughtSpot performance and memory usage, you should shard very large fact tables
whenever possible. If you have a large dimension table, more than 40 million rows, you might choose to shard it along with the fact table it is joined with. Sharding both the fact and dimension table(s) is known as <em>co-sharding</em>. Refer to <a href="#dimension-tables">Sharded dimension tables</a>. Before co-sharding the fact and dimension tables, consult with your ThoughtSpot contact.</p>

<h3 id="sharding-guidelines">Table sizes and sharding recommendations</h3>
<p>When you are considering which tables you need to shard, and how many shards to use, there are several key sizing guidelines to keep in mind. You may not be able to fulfill each of these requirements for every table you shard. The most important requirement is that the number of shards for a given table take up less than or equal to 60% of your total available CPU.</p>

<ol>
  <li>
    <p><strong>60% of CPU</strong>: The number of shards for a given table should not take up more than 60% of your total available CPU. When possible, the number of shards should be well under 60%, for queries that involve multiple sharded fact tables.</p>

    <div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> <b>Note:</b> 60% of CPU is a best practice. If necessary, you can use up to 80% of your available CPU. Consult with your ThoughtSpot contact before choosing a sharding strategy that requires 80% of your available CPU for a given table.</div>
  </li>
  <li>
    <p><strong>Number of rows per shard</strong>: Ideally, each shard should host about 15-20 million rows of data. So, if your table is under 20 million rows, you do not need to shard it. You should not have more than about 20 million rows of data on each shard.</p>
  </li>
  <li>
    <p><strong>Ideal number of shards</strong>: The ideal number of shards is the number of rows in a table divided by 20 million. So, if your table has fewer than 20 million rows, you do not need to shard it. However, if the ideal number of shards is more than 60% of your available CPU, you should ensure that you use less than 60% of your available CPU, rather than having the ideal number of shards.</p>
  </li>
  <li>
    <p><strong>Maximum number of shards</strong>: As a best practice, a given table should not have more than 1000 shards. This applies even if 60% of your CPU is above 1000. If you feel that you need more than 1000 shards for a given table, consult with your ThoughtSpot contact.</p>
  </li>
  <li>
    <p><strong>The number of shards should be a multiple of the number of nodes</strong>: To ensure equal distribution of data across all nodes, so that none of your nodes sits idle, the number of shards should be a multiple of the number of nodes. So, for a 12-node cluster, for example, a table could have 12, 24, 36, or 48 shards, and so on.</p>
  </li>
  <li>
    <p><strong>Minimum number of shards</strong>: Because the number of shards should be a multiple of the number of nodes, the mininum number of shards is the number of nodes. For a 12-node cluster, you should not have fewer than 12 shards.</p>

    <p>This requirement may be difficult to achieve on large clusters with a high number of nodes. For example, you may have a table with 200 million rows on a 24 node cluster. Based on the guideline of 20 million rows per shard, this table should have 10 shards. 10 is not a multiple of 24. However, you may also have several very large tables on this cluster, with more than 1 billion rows. These 1 billion row tables can have at least 24 shards while fulfilling the 20 million rows per shard requirement, but the 200 million row table cannot. If you do not have these very large tables in your cluster, but you do have a high number of nodes, you might choose to have fewer than 20 million rows per shard, to ensure equal distribution of data. Consult with your ThoughtSpot contact if you are unsure how to handle sharding on your large cluster.</p>
  </li>
</ol>

<h3 id="sharding-recommendations-example">Sharding recommendations example</h3>
<p>Lets use an example to see how the 6 guidelines listed above in <a href="#sharding-guidelines">Table sizes and sharding recommendations</a> work.</p>

<p>You have a fact table with 2.4 billion rows. Your cluster has 24 nodes, and 56 CPU cores per node.</p>

<ol>
  <li>
    <p><strong>Determine the ideal number of shards:</strong></p>

    <p><em>Number of rows</em>/20 million</p>

    <p>2.4 billion/20 million = 120</p>
  </li>
  <li>
    <p><strong>Determine 60% of the number of available CPU cores:</strong></p>

    <p><em>Number of nodes</em>*<em>Number of CPU cores per node</em>*<em>.6</em></p>

    <p>24*56*.6 = 806.4</p>
  </li>
  <li>
    <p><strong>Compare the ideal number of shards with 60% of the number of available CPU cores:</strong></p>

    <p>120 is less than 806.4, so you have enough CPU cores to shard this table with the ideal number of shards.</p>
  </li>
  <li>
    <p><strong>Ensure that the number of shards is a multiple of the number of nodes, and therefore higher than the minimum number of shards for a given table:</strong></p>

    <p><em>Number of rows</em>/ <em>Number of shards</em> must equal a whole number to allow you to distribute shards equally among the nodes.</p>

    <p>120/24 = 5. 5 is a whole number.</p>
  </li>
  <li>
    <p><strong>Ensure that the number of shards is under 1000:</strong></p>

    <p>120 is under 1000.</p>
  </li>
</ol>

<p>In summary: You can shard this table by the ideal number of shards; 120, in this case, because 120 is less than 60% of your total available CPU, it is a multiple of the number of rows, and it is under 1000.</p>

<p>If the table had 2.6 billion rows, the ideal number of shards would be 130. However, 130 is not a multiple of 24, so 120 would still be the best number of shards for this table.</p>

<h2 id="how-to-shard">How to shard</h2>

<p>Sharding is a type of partitioning. It is sometimes called <em>Horizontal
partitioning</em>. The term <em>sharding</em> is particular to situations where data is
distributed not only among tables, but also across nodes in the system. To create a sharded table, add the <code class="language-plaintext highlighter-rouge">PARTITION BY HASH ( )</code> clause to your <code class="language-plaintext highlighter-rouge">CREATE TABLE</code> statement.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>TQL&gt; CREATE TABLE
...
PARTITION BY HASH (96) KEY ("customer_id");
</code></pre></div></div>

<p>Note the following parameters, specified above as <code class="language-plaintext highlighter-rouge">96</code> and <code class="language-plaintext highlighter-rouge">"customer_id"</code>:</p>
<dl>
  <dlentry><dt>HASH</dt><dd>Determines the number of shards. In this case, <code>96</code>.</dd></dlentry>
  <dlentry><dt>KEY</dt><dd>Specifies how to assign data into the shards (shard key). In this case, <code>customer_id</code>.</dd></dlentry>
</dl>

<p>The recommended number of shards depends on various factors. See <a href="#sharding-guidelines">Table sizes and sharding recommendations</a>.</p>

<p>If you omit the <code class="language-plaintext highlighter-rouge">PARTITION BY HASH</code> statement or if the <code class="language-plaintext highlighter-rouge">HASH</code> parameter is 1
(one), the table is unsharded. The table is replicated instead, and physically exists in
its entirety on each node. This increases memory usage, since you are storing multiple copies of the same table.</p>

<p>If you want to use a tables primary key as the shard key, specify that the table
is to be partitioned by <code class="language-plaintext highlighter-rouge">HASH</code> on the primary key, as in this example:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>TQL&gt; CREATE TABLE "supplier" (
  "s_suppkey" BIGINT,
  "s_name" VARCHAR(255),
  "s_address" VARCHAR(255),
  "s_city" VARCHAR(255),
  "s_phone" VARCHAR(255),
  CONSTRAINT PRIMARY KEY ("s_suppkey")
  )  PARTITION BY HASH (96) KEY ("s_suppkey");
</code></pre></div></div>

<h2 id="how-to-choose-a-shard-key">How to choose a shard key</h2>

<div class="alert alert-success" role="alert"><i class="fa fa-check-square-o"></i> <b>Tip:</b> We recommended that you always specify the <code class="language-plaintext highlighter-rouge">KEY</code> parameter when <code class="language-plaintext highlighter-rouge">HASH</code> is greater than 1. If you omit the <code class="language-plaintext highlighter-rouge">KEY</code> parameter in your <code class="language-plaintext highlighter-rouge">CREATE TABLE</code> statement, ThoughtSpot shards the table randomly.</div>

<p>ThoughtSpot does not have a default shard key.</p>

<ul>
  <li>
    <p>If the table has no primary key, the sharding is unconstrained. You can choose <strong><em>any</em></strong> subset of columns that is valid for use as the primary key as the shard key. If you do not specify the shard key, ThoughtSpot implements random sharding.</p>
  </li>
  <li>
    <p>If the table has a primary key, you <strong><em>must</em></strong> specify the <code class="language-plaintext highlighter-rouge">KEY</code> parameter of the <code class="language-plaintext highlighter-rouge">PARTITION BY HASH</code> statement. This shard key <strong><em>must</em></strong> be a subset of the primary key.</p>
  </li>
</ul>

<p><strong><em>DO</em></strong></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>...
CONSTRAINT PRIMARY KEY("saleid,vendorid))
PARTITION BY HASH(n) KEY ("saleid");
</code></pre></div></div>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>...
CONSTRAINT PRIMARY KEY("saleid,vendorid))
PARTITION BY HASH(n) KEY ("vendorid");
</code></pre></div></div>
<p>In the above examples, the table has a primary key. The <code class="language-plaintext highlighter-rouge">KEY</code> parameters specified, <code class="language-plaintext highlighter-rouge">saleid</code> and <code class="language-plaintext highlighter-rouge">vendorid</code>, are subsets of the primary key.</p>

<p>In the below example, the table has a primary key. The <code class="language-plaintext highlighter-rouge">KEY</code> parameter specified, <code class="language-plaintext highlighter-rouge">locationid</code>, is <em>not</em> a subset of the primary key, and therefore cannot be used as the shard key.</p>

<p><strong><em>AVOID</em></strong></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>...
CONSTRAINT PRIMARY KEY("saleid,vendorid))
PARTITION BY HASH(n) KEY ("locationid");
</code></pre></div></div>

<p>When you shard a large table, you select a <em>shard key</em> from the table. This key
exists in every shard. Choosing a shard key plays an important role in
the number of shards and the size of any single shard.</p>

<h2 id="best-practices-for-choosing-a-shard-key">Best practices for choosing a shard key</h2>
<p>Here is a full <code class="language-plaintext highlighter-rouge">CREATE TABLE</code> statement.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>CREATE TABLE "sales_fact"
  ("saleid" int,
  "locationid" int,
  "vendorid" int,
  "quantity" int,
  "sale_amount" double,
  "fruitid" int,
  CONSTRAINT
PRIMARY KEY("saleid", "vendorid"))
PARTITION BY HASH(96)
KEY ("saleid");
</code></pre></div></div>

<p>The shard key is a subset of the primary key. However, that is not the only guideline to follow when choosing a shard key.</p>

<ol>
  <li>
    <p><strong>If the table has a primary key, the shard key must be a subset of the primary key.</strong></p>

    <p>If the shard key is <strong><em>not</em></strong> a subset of the primary key, and the shard key changes, data with the same primary key may reside in different nodes. This impacts ThoughtSpots performance, and may result in incorrect query results.</p>

    <p>You should not use a shard key that is not a subset of the
 primary key. If you use a shard key that is not a subset of the primary key, it is
 possible to get two versions of a record if the shard key for a record changes,
 but the primary key does not. In the absence of
 a unique shard key, the system creates a secondary record rather than doing a SQL
 MERGE (<code class="language-plaintext highlighter-rouge">upsert</code>). These two versions of a record may result in incorrect results when you search your data in ThoughtSpot.</p>

    <p>If you try to use a shard key that is not a subset of the primary key, your <code class="language-plaintext highlighter-rouge">CREATE TABLE</code> command returns an error.</p>
  </li>
  <li>
    <p><strong>Choose a shard key that distributes data well across keys.</strong></p>

    <p>For example, suppose the table you want to shard has a primary key made up of
 <code class="language-plaintext highlighter-rouge">saleid</code>, <code class="language-plaintext highlighter-rouge">custid</code>, and <code class="language-plaintext highlighter-rouge">locationid</code>. The table has 10K sales, 400 locations,
 and 2000 customers. If 5K sales are in just two locations, you should not use <code class="language-plaintext highlighter-rouge">locationid</code> as your shard key. If you use <code class="language-plaintext highlighter-rouge">locationid</code> as your shard key, you have data in fewer shards, which impacts performance. Instead, you should use <code class="language-plaintext highlighter-rouge">custid</code> and <code class="language-plaintext highlighter-rouge">locationid</code>.</p>

    <p>As a more concrete example, suppose you want to shard a table of retail data. Many retailers have an increase in sales around the winter holidays. You should not use <code class="language-plaintext highlighter-rouge">date</code> as your shard key, because you may have five or ten times your usual number of daily transactions during the month of December. Using <code class="language-plaintext highlighter-rouge">date</code> as your shard key would result in data skew, and would impact performance.</p>

    <p>Here is an example of data skew, where <code class="language-plaintext highlighter-rouge">Los Angeles</code> has many more transactions than the average, so you should not use <code class="language-plaintext highlighter-rouge">store county</code> as your sharding key.</p>

    <p><img src="/5.0/images/sharding-skew.png" alt="Skew example" title="Skew example" /></p>

    <p>You may also have to clean up your data and any null values before sharding. For example, your retail data may have a <code class="language-plaintext highlighter-rouge">customer</code> column. One of the values for <code class="language-plaintext highlighter-rouge">customer</code> may be <code class="language-plaintext highlighter-rouge">unknown</code>. A value like <code class="language-plaintext highlighter-rouge">unknown</code> would exist in many more transactions than a single customer name. A value like <code class="language-plaintext highlighter-rouge">unknown</code>, or any null values, result in data skew, and impact performance.</p>
  </li>
  <li>
    <p><strong>Choose a shard key that results in a wide variety of keys.</strong></p>

    <p>For example, suppose the table you want to shard has a primary key made up of
 <code class="language-plaintext highlighter-rouge">saleid</code>, <code class="language-plaintext highlighter-rouge">productid</code>, and <code class="language-plaintext highlighter-rouge">locationid</code>. The table has 10K sales, 40
 locations, and 200 products. Even if the sales are evenly distributed across
 locations, you should not use <code class="language-plaintext highlighter-rouge">locationid</code> in your shard key, because there are only 40 possible keys. Instead, use <code class="language-plaintext highlighter-rouge">saleid</code> and <code class="language-plaintext highlighter-rouge">productid</code> for more variety.</p>
  </li>
  <li>
    <p><strong>If you plan to join two or more tables that are both sharded, both tables must use the same shard key.</strong></p>

    <p>This guideline ensures better join performance. For example, if you have two tables
 and the primary keys are:</p>

    <p><code class="language-plaintext highlighter-rouge">PRIMARY KEY("saleid,vendorid")</code> on A<br />
 <code class="language-plaintext highlighter-rouge">PRIMARY KEY("saleid,customerid")</code> on B</p>

    <p>Use <code class="language-plaintext highlighter-rouge">saleid</code> as the shard key when you shard both tables.</p>
  </li>
  <li>
    <p><strong>If your primary key includes several columns, use all appropriate columns in the shard key.</strong></p>

    <p>Your primary key may include several columns. For example, suppose the table you want to shard has a primary key made up of <code class="language-plaintext highlighter-rouge">saleid</code>, <code class="language-plaintext highlighter-rouge">custid</code>, and <code class="language-plaintext highlighter-rouge">locationid</code>, as in the example in guideline three. The table has 10K sales, 40 locations, and 200 products. Based on the best practice outlined in guideline three (<strong>choose a shard key that results in a wide variety of keys</strong>), you should not use <code class="language-plaintext highlighter-rouge">locationid</code> in your shard key. Both <code class="language-plaintext highlighter-rouge">saleid</code> and <code class="language-plaintext highlighter-rouge">custid</code> are good shard keys, based on the four best practices mentioned above. Instead of picking one column to use as your shard key, use both <code class="language-plaintext highlighter-rouge">saleid</code> and <code class="language-plaintext highlighter-rouge">custid</code>.</p>
  </li>
</ol>

<p>You can always use your primary key as a shard key. If you have trouble picking another shard key based on the above requirements and best practices, use your primary key.</p>

<h2 id="dimension-tables">Sharded dimension tables</h2>

<p>In a typical schema,
youd have a sharded fact table, with foreign keys to small dimension tables.
ThoughtSpot replicates these small dimension tables in their entirety and distributes them on every node. If your dimension table has more than 40 million rows, however, you may want to co-shard it with related fact tables. Consult with your ThoughtSpot contact before co-sharding.</p>

<p>If you have a large dimension table, replicating it and distributing it can
impact the performance of your ThoughtSpot system. In this case, you want to
shard the dimension tables <em>and</em> the fact table. Note that you can co-shard multiple fact tables and one or more dimension tables on the same shard key. ThoughtSpot can handle chasm traps.</p>

<p>When sharding both a fact table and its dimension table(s), (known as co-sharding) keep
in mind the guidance for creating a shard key. Only shard dimension tables if
the dimension table has more than 40 million rows, and the join between the fact and
dimension tables uses the same columns. Specifically, the tables must:</p>

<ul>
  <li>be related by a primary key and foreign key</li>
  <li>be sharded on the same primary key/foreign key</li>
  <li>have the same number of shards</li>
</ul>

<p>If these requirements are met, ThoughtSpot automatically co-shards the tables
for you. Co-sharded tables are always joined on the shard key. Data skew can
develop if a very large proportion of the rows have the same value for the shard key. For example, you may have an <code class="language-plaintext highlighter-rouge">unknown</code> value for a <code class="language-plaintext highlighter-rouge">customer</code> column. Many of the rows of a fact table may include this value, resulting in data skew. Refer to <a href="#sharding-best">sharding best practices</a> to learn how to check for data skew.</p>

<p>You can view your <code class="language-plaintext highlighter-rouge">row count skew</code> from the ThoughtSpot application. Go to <strong>admin</strong>, then <strong>System health</strong>, then <strong>data</strong>. Choose the table you would like to view, and scroll to <code class="language-plaintext highlighter-rouge">row count skew</code>. Use this number to calculate your row count skew ratio: row count skew / (total row count / number of partitions). A row count skew ratio higher than 1 may require changes to your data modeling.</p>

<p>This example shows the <code class="language-plaintext highlighter-rouge">CREATE TABLE</code> statements that meet the criteria for
sharding both a fact table and its dimension table:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>TQL&gt; CREATE TABLE products_dim (
  "id" int,
  "prod_name" varchar(30),
  "prod_desc" varchar(100),
  PRIMARY KEY ("id")
)
PARTITION BY HASH (96) KEY ("id")
;

TQL&gt; CREATE TABLE retail_fact (
  "trans_id" int,
  "product_id" int,
  "amount" double,
  FOREIGN KEY ("product_id") REFERENCES products_dim ("id")
)
PARTITION BY HASH (96) KEY ("product_id")
;
</code></pre></div></div>

<h2 id="joining-two-sharded-fact-tables">Joining two sharded fact tables</h2>

<p>You can also join two sharded fact tables with different shard keys, but it is not recommended. This is
known as <em>non co-sharded</em> tables. It may take a while to join two tables sharded
on different keys, since ThoughtSpot has to redistribute your data. Therefore,
ThoughtSpot recommends that you use a common shard key for two fact tables.</p>

<p>You are not limited by the column connection or relationship type.</p>

<h2 id="sharding-best">Sharding best practices</h2>
<p>There are several best practices related to sharding.</p>

<ol>
  <li>
    <p>Shard your tables <strong>before</strong> loading data.</p>

    <p>Your data loads faster if you have already sharded the tables. Use the <code class="language-plaintext highlighter-rouge">CREATE TABLE</code> command to specify how you want your tables sharded, but do not load any data. After you shard the tables, your data loads faster.</p>
  </li>
  <li>
    <p>You may need to re-evaluate your sharding over time, as your data evolves. Take a look at how your sharding impacts performance after you change your data significantly. Data also changes naturally over time, so you should re-evaluate sharding at a regular cadence.</p>

    <p>To evaluate your sharding strategy, run the following script. It checks for over- or under-sharded tables on your cluster.</p>

    <ol>
      <li>Log into your cluster on the command line.
        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> $ ssh admin@&lt;cluster-IP&gt;
</code></pre></div>        </div>
      </li>
      <li>Run the following script to check for over- or under-sharded tables.
        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> $ /usr/local/scaligent/release/bin/sharding_diagnostics.sh
</code></pre></div>        </div>
      </li>
      <li>Adjust your sharding strategy appropriately. See <a href="/5.0/admin/loading/change-schema.html#change-sharding-on-a-table">Change sharding on a table</a>.</li>
    </ol>

    <p>Note that resharding automatically loads data into a new incarnation of the table you sharded. You do not need to reload the tables data.</p>
  </li>
  <li>
    <p>Check your <code class="language-plaintext highlighter-rouge">row count skew</code> ratio when you re-evaluate sharding.</p>

    <p>You can view your <code class="language-plaintext highlighter-rouge">row count skew</code> from the ThoughtSpot application. Go to <strong>admin</strong>, then <strong>System health</strong>, then <strong>data</strong>. Choose the table you would like to view, and scroll to <code class="language-plaintext highlighter-rouge">row count skew</code>. Use this number to calculate your row count skew ratio: row count skew / (total row count / number of partitions). A row count skew ratio higher than 1 may require changes to your data modeling.</p>
  </li>
</ol>

  <div class="tags">
    <div style="float:right;">
      
        

        <!-- <a target="_blank" href="https://github.com/thoughtspot/thoughtspot.github.io/blob/5.0/_admin/loading/sharding.md" class="btn btn-default githubEditButton" role="button"><i class="fa fa-github fa-lg"></i> Edit me</a> -->

        
      
    </div>
    <div >
        
    </div>
</div>



</div>

<hr class="shaded"/>

<footer>
   <div class="row">
      <div class="col-lg-12 footer">
        Generated: Apr 21, 2021 <br />
         &copy; 2015, 2021 ThoughtSpot.  All rights reserved. <br />
         <!-- <span>Page last updated:</span> 10/8/2020<br/>  -->
         <p><img style="width:100px;" src="https://docs.thoughtspot.com/5.0/images/company_logo.png" alt="Company logo"/></p>
      </div>
   </div>
</footer>


        </div>
    <!-- /.row -->
</div>
<!-- /.container -->
</div>
<!-- /#main -->
    </div>

</body>

<!-- the google_analytics_id gets auto inserted from the config file -->



<script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-44946579-2','auto');ga('require','displayfeatures');ga('send','pageview');</script>



</html>
